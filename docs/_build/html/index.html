
<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>zeus2_toolbox &#8212; zeus2_toolbox 1.6 documentation</title>

    <link href="_static/css/theme.css" rel="stylesheet">
    <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">


    <link href="_static/vendor/fontawesome/5.13.0/css/all.min.css"
          rel="stylesheet">
    <link as="font" crossorigin href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2" rel="preload"
          type="font/woff2">
    <link as="font" crossorigin href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2" rel="preload"
          type="font/woff2">


    <link href="_static/pygments.css" rel="stylesheet" type="text/css"/>
    <link href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" rel="stylesheet"
          type="text/css"/>
    <link href="_static/togglebutton.css" rel="stylesheet" type="text/css"/>
    <link href="_static/mystnb.css" rel="stylesheet" type="text/css"/>

    <link as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js" rel="preload">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <link href="genindex.html" rel="index" title="Index"/>
    <link href="search.html" rel="search" title="Search"/>
    <link href="source/pipeline_reduction.html" rel="next" title="Pipeline reduction"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <meta content="None" name="docsearch:language">


    <!-- Google Analytics -->

</head>
<body data-offset="80" data-spy="scroll" data-target="#bd-toc-nav">

<div class="container-fluid" id="banner"></div>


<div class="container-xl">
    <div class="row">

        <div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">

            <div class="navbar-brand-box">
                <a class="navbar-brand text-wrap" href="#">


                    <h1 class="site-logo" id="site-title">zeus2_toolbox 1.6 documentation</h1>

                </a>
            </div>
            <form action="search.html" class="bd-search d-flex align-items-center" method="get">
                <i class="icon fas fa-search"></i>
                <input aria-label="Search the docs ..." autocomplete="off" class="form-control" id="search-input"
                       name="q" placeholder="Search the docs ..." type="search">
            </form>
            <nav aria-label="Main" class="bd-links" id="bd-docs-nav">
                <div class="bd-toc-item active">
                    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Jupyter notebook exampls:
 </span>
                    </p>
                    <ul class="nav bd-sidenav">
                        <li class="toctree-l1">
                            <a class="reference internal" href="source/pipeline_reduction.html">
                                Pipeline reduction
                            </a>
                        </li>
                    </ul>
                    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents:
 </span>
                    </p>
                    <ul class="nav bd-sidenav">
                        <li class="toctree-l1">
                            <a class="reference internal" href="source/README.html">
                                Documentation
                            </a>
                        </li>
                        <li class="toctree-l1">
                            <a class="reference internal" href="source/zeus2_toolbox.html">
                                API
                            </a>
                        </li>
                    </ul>

                </div>
            </nav> <!-- To handle the deprecated key -->

            <div class="navbar_extra_footer">
                Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>

        </div>


        <main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">

            <div class="topbar container-xl fixed-top">
                <div class="topbar-contents row">
                    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
                    <div class="col pl-md-4 topbar-main">

                        <button aria-controls="navbar-menu" aria-controls="site-navigation" aria-expanded="true"
                                aria-label="Toggle navigation"
                                class="navbar-toggler ml-0" data-placement="bottom" data-placement="left"
                                data-target=".site-navigation"
                                data-toggle="collapse" data-toggle="tooltip" data-toggle="tooltip"
                                id="navbar-toggler" title="Toggle navigation" type="button">
                            <i class="fas fa-bars"></i>
                            <i class="fas fa-arrow-left"></i>
                            <i class="fas fa-arrow-up"></i>
                        </button>


                        <div class="dropdown-buttons-trigger">
                            <button aria-label="Download this page" class="btn btn-secondary topbarbtn"
                                    id="dropdown-buttons-trigger"><i
                                    class="fas fa-download"></i></button>

                            <div class="dropdown-buttons">
                                <!-- ipynb file if we had a myst markdown file -->

                                <!-- Download raw file -->
                                <a class="dropdown-buttons" href="_sources/index.rst.txt">
                                    <button class="btn btn-secondary topbarbtn"
                                            data-placement="left" data-toggle="tooltip" title="Download source file"
                                            type="button">.rst
                                    </button>
                                </a>
                                <!-- Download PDF via print -->
                                <button class="btn btn-secondary topbarbtn" data-placement="left" data-toggle="tooltip"
                                        id="download-print"
                                        onClick="window.print()" title="Print to PDF" type="button">.pdf
                                </button>
                            </div>
                        </div>

                        <!-- Source interaction buttons -->

                        <div class="dropdown-buttons-trigger">
                            <button aria-label="Connect with source repository" class="btn btn-secondary topbarbtn"
                                    id="dropdown-buttons-trigger"><i class="fab fa-github"></i></button>
                            <div class="dropdown-buttons sourcebuttons">
                                <a class="repository-button"
                                   href="https://github.com/bpqdbpqd/zeus2_toolbox">
                                    <button class="btn btn-secondary topbarbtn" data-placement="left"
                                            data-toggle="tooltip" title="Source repository" type="button"><i
                                            class="fab fa-github"></i>repository
                                    </button>
                                </a>


                            </div>
                        </div>

                        <!-- Full screen (wrap in <a> to have style consistency -->

                        <a class="full-screen-button">
                            <button aria-label="Fullscreen mode" class="btn btn-secondary topbarbtn"
                                    data-placement="bottom"
                                    data-toggle="tooltip" onclick="toggleFullScreen()" title="Fullscreen mode"
                                    type="button"><i
                                    class="fas fa-expand"></i></button>
                        </a>

                        <!-- Launch buttons -->

                    </div>

                    <!-- Table of contents -->
                    <div class="d-none d-md-block col-md-2 bd-toc show">

                        <div class="tocsection onthispage pt-5 pb-3">
                            <i class="fas fa-list"></i> Contents
                        </div>
                        <nav aria-label="Page" id="bd-toc-nav">
                            <ul class="visible nav section-nav flex-column">
                                <li class="toc-h1 nav-item toc-entry">
                                    <a class="reference internal nav-link" href="#">
                                        zeus2_toolbox
                                    </a>
                                    <ul class="visible nav section-nav flex-column">
                                    </ul>
                                </li>
                                <li class="toc-h1 nav-item toc-entry">
                                    <a class="reference internal nav-link" href="#changelog">
                                        Changelog
                                    </a>
                                </li>
                                <li class="toc-h1 nav-item toc-entry">
                                    <a class="reference internal nav-link" href="#indices-and-tables">
                                        Indices and tables
                                    </a>
                                </li>
                            </ul>

                        </nav>
                    </div>
                </div>
            </div>
            <div class="row" id="main-content">
                <div class="col-12 col-md-9 pl-md-3 pr-md-0">

                    <div>

                        <div class="section" id="zeus2-toolbox">
                            <h1>zeus2_toolbox<a class="headerlink" href="#zeus2-toolbox"
                                                title="Permalink to this headline">¶</a></h1>
                            <div class="toctree-wrapper compound">
                                <p aria-level="2" class="caption" role="heading"><span class="caption-text">Jupyter notebook exampls:</span>
                                </p>
                                <ul>
                                    <li class="toctree-l1"><a class="reference internal"
                                                              href="source/pipeline_reduction.html"> Pipeline
                                        reduction</a>
                                        <ul>
                                            <li class="toctree-l2"><a class="reference internal"
                                                                      href="source/pipeline_reduction.html#data-reduction-on-science-target">Data
                                                reduction on science target</a></li>
                                            <li class="toctree-l2"><a class="reference internal"
                                                                      href="source/pipeline_reduction.html#data-reduction-on-calibration-source">Data
                                                reduction on calibration source</a></li>
                                            <li class="toctree-l2"><a class="reference internal"
                                                                      href="source/pipeline_reduction.html#reduction-of-zpold-or-zpoldbig-raster">Reduction
                                                of zpold or zpoldbig raster</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                            <div class="toctree-wrapper compound">
                                <p aria-level="2" class="caption" role="heading"><span
                                        class="caption-text">Contents:</span></p>
                                <ul>
                                    <li class="toctree-l1"><a class="reference internal" href="source/README.html">Documentation</a>
                                    </li>
                                    <li class="toctree-l1"><a class="reference internal"
                                                              href="source/README.html#acknowledgements">Acknowledgements</a>
                                    </li>
                                    <li class="toctree-l1"><a class="reference internal"
                                                              href="source/zeus2_toolbox.html">API</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="section" id="changelog">
                            <h1>Changelog<a class="headerlink" href="#changelog"
                                            title="Permalink to this headline">¶</a></h1>
                            <p>1.6</p>
                            <ul class="simple">
                                <li><p>Add scipy as a dependence</p></li>
                                <li><p>Add beautifulsoup4 as a requirement</p></li>
                                <li><p>Add function tools.gaussian_2d()</p></li>
                                <li><p>Add function tools.spec_to_wl(), tools.wl_to_spec() and tools.wl_to_grat_idx()
                                    which map spectral index to wavelength
                                    and vice verse, and compute the grating index to place certain wavelength at given
                                    [spat, spec]</p></li>
                                <li><p>Add the ability to output the predicted error in pipeline.zobs()</p></li>
                                <li><p>Add the ability to fit raster in pipeline.make_raster() and stack_raster()</p>
                                </li>
                                <li><p>Change error prediction from rms/sqrt(#data)*2 to rms/sqrt(#data)*4*sqrt(2/3)
                                    which accounts for oversampling</p></li>
                                <li><p>Fix a bug in FigFlux.write_text() in the position to put text for ObsArray</p>
                                </li>
                                <li><p>Fix a bug in pipeline.reduce_beam_pair() that do_smooth is not propagated
                                    through</p></li>
                                <li><p>Fix a bug in pipeline.reduce_zobs() by multiplying input times series by a factor
                                    of sqrt(2) if time series is stacked
                                    beam pair</p></li>
                            </ul>
                            <p>1.5</p>
                            <ul class="simple">
                                <li><p>Add make_raster() to turn beams_flux into raster shape and make figures; change
                                    reduce_zpold() to use make_raster()</p></li>
                                <li><p>Add cross flag to reduce_beam(), reduce_beams(), reduce_calibration() to
                                    accommodate cross scan</p></li>
                                <li><p>Add flag use_hk in reduce_zobs and reduce_beam_pairs forcing using manual nodding
                                    phase, it will raise an error if no
                                    nodding phase is found</p></li>
                                <li><p>Change make_raster() so that it can accept nodding observation</p></li>
                                <li><p>Change reduce_beam_pairs() and reduce_zobs, so that NOD_PHASE is moved to be
                                    applied in reduce_beam_pairs()</p></li>
                                <li><p>Change the way multiple skychop are averaged, use nanmean instead of weighted
                                    mean</p></li>
                                <li><p>Fix a bug dealing with np.nanmedian(axis=None) with all nan data</p></li>
                                <li><p>Fix a bug in Obs.naninterp()</p></li>
                                <li><p>Fix a bug in z2io.fft_obs()</p></li>
                            </ul>
                            <p>1.4</p>
                            <ul class="simple">
                                <li><p>Add the missing dependence of beautifulsoup4</p></li>
                                <li><p>Change the figures to be plotted with analyze_performance, and save obs_info
                                    table</p></li>
                                <li><p>Fix a bug in calculating nfft and noverlap in pipeline.analyze_performance()</p>
                                </li>
                                <li><p>Fix a bug with proc_along_axis() on empty ObsArray</p></li>
                                <li><p>Fix a bug for get_chop_flux in beam with only one chop phase</p></li>
                            </ul>
                            <p>1.3</p>
                            <ul class="simple">
                                <li><p>Add function double_nanmad_flag and method DataObj.get_double_nanmad_flag, which
                                    do MAD flagging twice to deal with
                                    the data with a sudden jump to flag less data</p></li>
                                <li><p>Add function read_beams to read a large number of beams in parallel</p></li>
                                <li><p>Add function analyze_performance to evaluate pixel performance based on rms and
                                    power spectrum; implement it in
                                    pipeline reduction functions</p></li>
                                <li><p>Add function eval_performance to evaluate pixel performance based on rms and
                                    power spectrum, plot power spectrum,
                                    dynamical spectrum and the whole time series</p></li>
                                <li><p>Change the criteria for selecting usable pixel for ICA</p></li>
                                <li><p>Change the criteria for flagging time series outlier to flag different chop phase
                                    separately</p></li>
                                <li><p>Fix a bug in rebuilding time stamp</p></li>
                                <li><p>Fix a bug in desnaking to deal with the case that ref_pix is in pix_flag_list</p>
                                </li>
                                <li><p>Fix a bug in FigFlux.imshow_flag() which doesn’t accept empty list</p></li>
                            </ul>
                            <p>1.2</p>
                            <ul class="simple">
                                <li><p>Add example jupyter notebook for the pipeline reduction</p></li>
                                <li><p>Add example pipeline reduction scripts in the example folder</p></li>
                                <li><p>Change the function name proc_calibration, proc_zpold, proc_zpoldbig to
                                    reduce_calibration, reduce_zpold,
                                    reduce_zpoldbig</p></li>
                                <li><p>Fix a bug in pipeline.auto_flag_ts() which chooses the wrong flagging
                                    threshold</p></li>
                            </ul>
                            <p>1.1</p>
                            <ul class="simple">
                                <li><p>Generated documentations on [<a class="reference external"
                                                                       href="https://zeus2-toolbox.readthedocs.io/](https://zeus2-toolbox.readthedocs.io/en/latest/">https://zeus2-toolbox.readthedocs.io/](https://zeus2-toolbox.readthedocs.io/en/latest/</a>)
                                </p></li>
                                <li><p>Add the ability to plot cumulative flux in pipeline.reduce_zobs()</p></li>
                                <li><p>Add the ability to call FigArray.plot() in pipeline.plot_beam_ts()</p></li>
                                <li><p>Fix a bug with multiprocessing.pool(), now generating pools with “Fork”
                                    context</p></li>
                                <li><p>Suppress unnecessary warnings</p></li>
                            </ul>
                            <p>1.0</p>
                            <ul class="simple">
                                <li><p>Initial release on GitHub</p></li>
                            </ul>
                        </div>
                        <div class="section" id="indices-and-tables">
                            <h1>Indices and tables<a class="headerlink" href="#indices-and-tables"
                                                     title="Permalink to this headline">¶</a></h1>
                            <ul class="simple">
                                <li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a>
                                </p></li>
                                <li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a>
                                </p></li>
                                <li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a>
                                </p></li>
                            </ul>
                        </div>


                    </div>


                    <!-- Previous / next buttons -->
                    <div class='prev-next-area'>
                        <a class='right-next' href="source/pipeline_reduction.html" id="next-link" title="next page">
                            <div class="prev-next-info">
                                <p class="prev-next-subtitle">next</p>
                                <p class="prev-next-title">Pipeline reduction</p>
                            </div>
                            <i class="fas fa-angle-right"></i>
                        </a>
                    </div>

                </div>
            </div>
            <footer class="footer">
                <div class="container">
                    <p>

                        By Bo Peng<br/>

                        &copy; Copyright 2021, Bo Peng.<br/>
                    </p>
                </div>
            </footer>
        </main>


    </div>
</div>

<script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

</body>
</html>
